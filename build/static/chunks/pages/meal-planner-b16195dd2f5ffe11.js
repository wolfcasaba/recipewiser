(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{6670:(e,n,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/meal-planner",function(){return a(9062)}])},9062:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>c});var t=a(4848),d=a(6540),l=a(2790),r=a(3627),s=a(4979);function i(e){let{id:n,title:a}=e,{attributes:d,listeners:l,setNodeRef:i,transform:o,transition:c}=(0,r.gl)({id:n}),p={transform:s.Ks.Transform.toString(o),transition:c};return(0,t.jsx)("div",{ref:i,style:p,...d,...l,className:"p-2 border rounded-md bg-white shadow-md cursor-pointer",children:a})}let o={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]};function c(){let[e,n]=(0,d.useState)(o),[a,s]=(0,d.useState)("Vegan"),[c,p]=(0,d.useState)(null),u=async()=>{let e=await fetch("/api/meal-planner/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dietaryPreference:a})});p((await e.json()).plan)};return(0,d.useEffect)(()=>{c&&(alert("AI Meal Plan: "+c),p(null))},[c]),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Meal Planner"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block font-semibold",children:"Dietary Preference:"}),(0,t.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"border p-2 rounded-md",children:[(0,t.jsx)("option",{value:"Vegan",children:"Vegan"}),(0,t.jsx)("option",{value:"Keto",children:"Keto"}),(0,t.jsx)("option",{value:"Gluten-Free",children:"Gluten-Free"})]})]}),(0,t.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:"Generate AI Meal Plan"}),(0,t.jsx)(l.Mp,{collisionDetection:l.fp,onDragEnd:a=>{let{active:t,over:d}=a;if(!d)return;let l={...e};if(t.parentId===d.parentId){let n=e[t.parentId].findIndex(e=>e.id===t.id),a=e[d.parentId].findIndex(e=>e.id===d.id);l[t.parentId]=(0,r.be)(e[t.parentId],n,a)}else{let n=e[t.parentId].findIndex(e=>e.id===t.id),a=d.data.current.sortable.index,r=l[t.parentId][n];l[t.parentId].splice(n,1),l[d.parentId].splice(a,0,r)}n(l)},children:Object.keys(e).map(n=>(0,t.jsxs)("div",{className:"border p-4 rounded-lg mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:n}),(0,t.jsx)(r.gB,{id:n,items:e[n].map(e=>e.id),strategy:r._G,children:e[n].map((e,n)=>(0,t.jsx)(i,{id:e.id,title:e.title},e.id))})]},n))})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[627,636,593,792],()=>n(6670)),_N_E=e.O()}]);